<section id="article-page">
  <div class="article-details">
    <h1><?= $article->getTitle() ?></h1>
    <p><?= $article->getSummary() ?></p>
    <p><?= $article->getUserName() ?></p>
    <time><?= $article->getFormattedCreatedAt() ?></time>
    <button id="save-btn" data-article-id="<?= $_GET['id'] ?>">Enregistrer</button>
  </div>

  <div class="article-image">
    <img id="img-article-page" src="<?= asset('images/' . $article->getImage()) ?>" alt="">
  </div>

  <div class="article-content">
    <p><?= $article->getContent() ?></p>
  </div>

  <div class="comment-form">
    <form action="<?= constructUrl('article', ['id' => $article->getIdArticle()]) ?>" method="POST">
      <div class="form-group">
        <label for="nickname">Pseudo :</label>
        <input type="text" name="nickname" id="nickname" value="<?php if (isset($nickname)) echo $nickname ?>">
      </div>

      <div class="form-group">
        <label for="content">Commentaire :</label>
        <textarea name="content" id="content" cols="30" rows="10"></textarea>
      </div>

      <button type="submit" class="btn btn-primary">Envoyer</button>
    </form>
  </div>

  <div class="comments">
    <h2>Commentaires :</h2>

    <?php foreach ($comments as $comment) : ?>
      <div class="comment">
        <h3><?= htmlspecialchars($comment->getNickname()) ?></h3>
        <time><?= htmlspecialchars($comment->getFormattedCreatedAt()) ?></time>
        <p><?= htmlspecialchars($comment->getContent()) ?></p>
      </div>
    <?php endforeach; ?>
  </div>
</section>

<script src="<?= asset("js/article.js") ?>"></script>
